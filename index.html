<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>MSQuakeService - Monitoreo Sísmico IGP</title>

  <!-- Leaflet (Mapa) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <!-- Estilos propios -->
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <div class="app">
    <header>
      <h1>MSQuakeService – Monitoreo Sísmico de Lima Metropolitana</h1>
      <p>Servicio atómico HTML5 que consulta y procesa información sísmica
        proporcionada por el IGP.</p>
    </header>

    <!-- Filtros superiores -->
    <section class="filters">
      <div class="field">
        <label for="distrito">Distrito (UBIGEO)</label>
        <select id="distrito">
          <optgroup label="Provincia de Lima (Lima Metropolitana)">
                    <option value="150101">150101 — Lima</option>
                    <option value="150102">150102 — Ancón</option>
                    <option value="150103">150103 — Ate</option>
                    <option value="150104">150104 — Barranco</option>
                    <option value="150105">150105 — Breña</option>
                    <option value="150106">150106 — Carabayllo</option>
                    <option value="150107">150107 — Chaclacayo</option>
                    <option value="150108">150108 — Chorrillos</option>
                    <option value="150109">150109 — Cieneguilla</option>
                    <option value="150110">150110 — Comas</option>
                    <option value="150111">150111 — El Agustino</option>
                    <option value="150112">150112 — Independencia</option>
                    <option value="150113">150113 — Jesús María</option>
                    <option value="150114">150114 — La Molina</option>
                    <option value="150115">150115 — La Victoria</option>
                    <option value="150116">150116 — Lince</option>
                    <option value="150117">150117 — Los Olivos</option>
                    <option value="150118">150118 — Lurigancho</option>
                    <option value="150119">150119 — Lurín</option>
                    <option value="150120">150120 — Magdalena del Mar</option>
                    <option value="150121">150121 — Pueblo Libre</option>
                    <option value="150122">150122 — Miraflores</option>
                    <option value="150123">150123 — Pachacámac</option>
                    <option value="150124">150124 — Pucusana</option>
                    <option value="150125">150125 — Puente Piedra</option>
                    <option value="150126">150126 — Punta Hermosa</option>
                    <option value="150127">150127 — Punta Negra</option>
                    <option value="150128">150128 — Rímac</option>
                    <option value="150129">150129 — San Bartolo</option>
                    <option value="150130">150130 — San Borja</option>
                    <option value="150131">150131 — San Isidro</option>
                    <option value="150132">150132 — San Juan de Lurigancho</option>
                    <option value="150133">150133 — San Juan de Miraflores</option>
                    <option value="150134">150134 — San Luis</option>
                    <option value="150135">150135 — San Martín de Porres</option>
                    <option value="150136">150136 — San Miguel</option>
                    <option value="150137">150137 — Santa Anita</option>
                    <option value="150138">150138 — Santa María del Mar</option>
                    <option value="150139">150139 — Santa Rosa</option>
                    <option value="150140">150140 — Santiago de Surco</option>
                    <option value="150141">150141 — Surquillo</option>
                    <option value="150142">150142 — Villa El Salvador</option>
                    <option value="150143">150143 — Villa María del Triunfo</option>
                </optgroup>

                <optgroup label="Lima Provincias (solo provincias)">
                    <option value="LIMA-PROV-BARRANCA">Provincia de Barranca</option>
                    <option value="LIMA-PROV-CAJATAMBO">Provincia de Cajatambo</option>
                    <option value="LIMA-PROV-CANTA">Provincia de Canta</option>
                    <option value="LIMA-PROV-CAÑETE">Provincia de Cañete</option>
                    <option value="LIMA-PROV-HUARAL">Provincia de Huaral</option>
                    <option value="LIMA-PROV-HUAROCHIRI">Provincia de Huarochirí</option>
                    <option value="LIMA-PROV-HUAURA">Provincia de Huaura</option>
                    <option value="LIMA-PROV-OYON">Provincia de Oyón</option>
                    <option value="LIMA-PROV-YAUYOS">Provincia de Yauyos</option>
                </optgroup>

        </select>
      </div>

      <div class="field">
        <label for="ventana">Ventana de tiempo (horas)</label>
        <select id="ventana">
          <option value="6">6</option>
          <option value="12">12</option>
          <option value="24" selected>24</option>
          <option value="48">48</option>
          <option value="72">72</option>
        </select>
      </div>

      <div class="field">
        <label for="magMin">Magnitud mínima</label>
        <input id="magMin" type="number" step="0.1" value="3.5" min="0" />
      </div>

      <div class="field">
        <label for="fuente">Fuente de datos</label>
        <select id="fuente" disabled>
          <option>IGP – Últimos sismos</option>
        </select>
      </div>

      <button id="btnCalcular" class="btn-primary">Calcular riesgo</button>
    </section>

    <!-- Resumen -->
    <section class="summary">
      <article class="card">
        <div class="card-title">
          <span>Riesgo actual</span>
          <span id="tagRiesgo" class="tag tag-good">Bajo</span>
        </div>
        <div id="valorRiesgo" class="card-main">0.0 / 100</div>
        <div id="textoRiesgo" class="card-sub">
          Aún no se ha calculado el riesgo con los filtros seleccionados.
        </div>
      </article>

      <article class="card">
        <div class="card-title">
          <span>Alerta meteorológica</span>
          <span class="tag tag-neutral">Referencia</span>
        </div>
        <div class="card-main">BLANCO</div>
        <div class="card-sub">
          No se consideran alertas meteorológicas en este servicio sísmico
          atómico.
        </div>
      </article>

      <article class="card">
        <div class="card-title">
          <span>Sismos recientes (filtrados)</span>
          <span class="tag">IGP</span>
        </div>
        <div id="conteoSismos" class="card-main">0</div>
        <div id="infoSismos" class="card-sub">
          Ventana temporal dinámica según los parámetros de consulta.
        </div>
      </article>
    </section>

    <!-- Mapa -->
    <section class="map-section">
      <div id="map"></div>
      <div class="legend">
        <span><span class="dot dot-small"></span> Mag &lt; 4.0</span>
        <span><span class="dot dot-medium"></span> 4.0 ≤ Mag &lt; 5.0</span>
        <span><span class="dot dot-big"></span> Mag ≥ 5.0</span>
        <span class="muted">Los puntos representan eventos sísmicos recientes
          reportados por el IGP.</span>
      </div>
    </section>

    <!-- Tablas inferiores -->
    <section class="bottom-layout">
      <article class="table-card">
        <h3>Sismos recientes</h3>
        <p class="muted" id="captionTabla">
          Listado de eventos sísmicos procesados por MSQuakeService.
        </p>
        <div style="overflow-x: auto; margin-top: 8px;">
          <table>
            <thead>
              <tr>
                <th>Fecha (UTC)</th>
                <th>Mag</th>
                <th>Prof (km)</th>
                <th>Lat</th>
                <th>Lon</th>
                <th>Referencia</th>
              </tr>
            </thead>
            <tbody id="tablaSismos">
              <!-- Se llena dinámicamente -->
            </tbody>
          </table>
        </div>
      </article>

      <article class="table-card">
        <h3>Avisos del servicio</h3>
        <p class="muted">
          MSQuakeService es un servicio atómico HTML5 que consulta el JSON de
          últimos sismos del IGP, procesa la información y la presenta en un
          mapa interactivo y una tabla de datos.
        </p>
        <ul class="muted" style="margin-top: 10px; padding-left: 18px;">
          <li>Los datos dependen de la disponibilidad pública del IGP.</li>
          <li>Si el servicio del IGP no responde, se muestran datos de ejemplo.</li>
          <li>No debe usarse como sistema oficial de alerta temprana.</li>
        </ul>
      </article>
    </section>
  </div>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- Lógica de la aplicación -->
  <script src="js/app.js"></script>
</body>
</html>
